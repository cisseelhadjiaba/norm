#!/bin/bash

depends_on zlib ## opportunistic linking, enables online compression

fetch_source https://www.sqlite.org/2018/sqlite-autoconf-3240000.tar.gz da68915e3563b5244cbcdb6c7e20fb35559bcfc6

CPPFLAGS="$CPPFLAGS -DSQLITE_MAX_VARIABLE_NUMBER=250000 -DSQLITE_ENABLE_COLUMN_METADATA=1 -DSQLITE_MAX_DEFAULT_PAGE_SIZE=32768" \
NOPARALLEL=1 do_unpack_compile --enable-threadsafe --disable-readline --disable-editline
