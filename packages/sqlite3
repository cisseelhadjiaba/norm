#!/bin/bash

depends_on zlib ## opportunistic linking, enables online compression

fetch_source https://www.sqlite.org/2018/sqlite-autoconf-3250000.tar.gz 9188a22f358823aaec649921fb3e21c07f8b6076

CPPFLAGS="$CPPFLAGS -DSQLITE_MAX_VARIABLE_NUMBER=250000 -DSQLITE_ENABLE_COLUMN_METADATA=1 -DSQLITE_MAX_DEFAULT_PAGE_SIZE=32768" \
NOPARALLEL=1 do_unpack_compile --enable-threadsafe --disable-readline --disable-editline
