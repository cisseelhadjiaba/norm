#!/bin/bash

## TODO: libldap.so, liblber.so
depends_on zlib

## needed for generating manpages
depends_on gettext

## https support
depends_on openssl
depends_on curl
depends_on libexpat

fetch_source https://www.kernel.org/pub/software/scm/git/git-2.9.0.tar.xz 7ac21a1ff58f57e7d40452a4aa8ec6c0d71ec709
do_unpack_compile --disable-nls

## install bash completion
install -D $SRCDIR/contrib/completion/git-completion.bash $PREFIX/etc/bash_completion.d/git-completion.bash

## install git manpages
fetch_file https://www.kernel.org/pub/software/scm/git/git-manpages-2.9.0.tar.xz 3add521632a9e9f85d0d2f2e70fdee30039f1ab9
mkdir -p "$PREFIX/share/man"
cat "$CACHEDIR/$FILENAME" | xz -d | tar xf - -C "$PREFIX/share/man"
